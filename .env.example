# Environment Configuration for Sticker Bot

# ===== REQUIRED CONFIGURATION =====

# WhatsApp Configuration (REQUIRED)
AUTO_SEND_GROUP_ID=your_group_id_here
ADMIN_NUMBER=5511999999999@c.us

# ===== WEB INTERFACE CONFIGURATION =====

# Bot WhatsApp Number (for web interface buttons)
# If not set, will use ADMIN_NUMBER without @c.us suffix
BOT_WHATSAPP_NUMBER=5511999999999

# Web Interface Port
PORT=3000

# Admin Configuration for Web Interface
ADMIN_INITIAL_USERNAME=admin
ADMIN_INITIAL_PASSWORD=your_secure_password_here

# ===== JWT AUTH (OPTIONAL) =====
# If not set, JWT will fallback to SESSION_SECRET (or a weak dev value). Define in production.
JWT_SECRET=change_me_in_production
# Token expiration (e.g. 7d, 12h, 30m)
JWT_EXPIRES_IN=7d

# Additional Admin Users (comma-separated usernames)
# ADMIN_USERS=admin2,admin3

# Session Security
# Generate a secure random key for production
SESSION_SECRET=your-secret-key-change-in-production

# ===== TIMEZONE CONFIGURATION =====

# Set the timezone for automatic sticker sending schedule (08:00-21:00)
# Default: America/Sao_Paulo
# Examples: America/Sao_Paulo, America/New_York, Europe/London, UTC
TIMEZONE=America/Sao_Paulo

# Alternative timezone setting (used if TIMEZONE is not set)
# TZ=America/Sao_Paulo

# ===== AI SERVICES (OPTIONAL) =====

# OpenAI API Key for AI-powered features
# Enables automatic tagging, transcription, and content analysis
# OPENAI_API_KEY=sk-your-openai-api-key-here

# Meme Generator configuration
# Dedicated key for meme creation to control costs
OPENAI_API_KEY_MEMECREATOR=sk-your-meme-key-here
# Default image parameters (override as needed)
MEME_IMAGE_SIZE=1024x1024
MEME_IMAGE_QUALITY=low
# Optional prompt model override
# MEME_PROMPT_MODEL=gpt-4o-mini
# Optional transcription language (ISO code)
# MEME_TRANSCRIPTION_LANGUAGE=pt

# Retry behavior for OpenAI API requests
# OPENAI_MAX_RETRIES=2
# OPENAI_RETRY_DELAY_MS=1000

# ===== NSFW MODERATION (OPTIONAL) =====

# Use external providers for stricter NSFW detection (supports comma-separated list: huggingface,openai)
# NSFW_EXTERNAL_PROVIDER=huggingface,openai
# HUGGINGFACE_API_KEY=hf_your_api_token_here
# HUGGINGFACE_NSFWMODEL=Falconsai/nsfw_image_detection
# NSFW_EXTERNAL_MIN_SCORE=0.6
# NSFW_EXTERNAL_SAFE_SCORE=0.55
# NSFW_EXTERNAL_TIMEOUT=10000
# OPENAI_MODERATION_API_KEY=sk-openai-moderation
# OPENAI_MODERATION_MODEL=omni-moderation-latest
# NSFW_OPENAI_MIN_SCORE=0.2

# Fine-tune local fallback thresholds (optional)
# NSFW_LOCAL_PORN_THRESHOLD=0.6
# NSFW_LOCAL_HENTAI_THRESHOLD=0.6
# NSFW_LOCAL_SEXY_THRESHOLD=0.85

# ===== EMAIL SERVICE CONFIGURATION (OPTIONAL) =====

# SMTP Configuration for user email confirmations
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password

# Email Sender Configuration
# FROM_EMAIL=noreply@yourdomain.com
# BASE_URL=https://yourdomain.com

# ===== ANALYTICS AND MONITORING (OPTIONAL) =====

# Enable internal analytics and request logging
ENABLE_INTERNAL_ANALYTICS=true

# Cloudflare Insights (if using Cloudflare)
# ALLOW_CF_INSIGHTS=1

# Umami Analytics Configuration
# UMAMI_ORIGIN=https://your-analytics-domain.com

# ===== ADVANCED CONFIGURATION =====

# Production Environment (enables security features)
# NODE_ENV=production

# Directory Configuration (usually auto-detected)
# STICKERS_DIR=/path/to/media
# PUBLIC_DIR=/path/to/web/public

# Legacy Sticker Migration
# Path to old stickers directory for migration
# OLD_STICKERS_PATH=/path/to/old/stickers

# ===== MEDIA PROCESSING CONFIGURATION =====

# Disable multi-frame analysis for animated WebP stickers (default: false)
# When enabled, animated stickers will be processed as single-frame images
# This can help diagnose FFmpeg resource contention issues
DISABLE_MULTIFRAME_WEBP_ANALYSIS=false
